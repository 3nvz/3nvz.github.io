<!-- Save as receiver.html -->
<!DOCTYPE html>
<html>

<head>
  <title>Vulnerable PostMessage - Reflection</title>
</head>

<body>
  <h1>PostMessage Reflection Demo</h1>
  <div id="output"></div>

  <!-- ⚠️ No origin check — vulnerable to simple XSS -->
  <script>
    window.addEventListener("message", function (event) {
      document.getElementById("output").innerHTML = event.data;
    });
  </script>

  <!-- ⚠️ Sends token to whoever asks -->
  <script>
    const token = "super_secret_token_12345";
    window.addEventListener("message", function (event) {
      if (event.data === "getToken") {
        event.source.postMessage("Your token is: " + token, event.origin);
      }
    });
  </script>


</body>

</html>